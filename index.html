<!DOCTYPE html>
<html>
  <head>
    <title>Motioncoaster</title>
    <meta name="description" content="Collection of examples for networked-aframe"/>
    <style>
      html {
        background: #000000;
        color: #FAFAFA;
        font-family: monospace;
        font-size: 20px;
        padding: 10px 20px;
        text-align: center;
      }
      h1 {
        font-weight: 300;
      }
      a {
        color: #FAFAFA;
        /*display: block;*/
        padding: 15px 0;
      }
      body > div {
        margin: 20px 0;
      }
    </style>
  </head>
  <body>
    <script>
      function loadARtrack(){
        if(sessionStorage["artrack"]){
          document.location.href = "./vr/artrack.html";
        } else {
          alert("Please upload a motioncoaster.json track first with the button below.");
        }
      }
    </script>
    <h1>MOTION(sickness.roller)COASTER</h1>
    <div>
      <a href="./vr/defaulttrack.html">VR Driver</a>
      <span>- default track</span><br/>
    </div>
    <div>
      <a href="javascript:loadARtrack()"> VR Driver</a>
      <span>- AR drawn track</span><br/>
      <input id="file-upload-button" type="file" />
    </div>
    <div>
      <a href="./ar/index.html">AR Drawer</a>
      <span>- AR track drawer</span>
    </div>
    
    <script>
      function importJSON(event) {
        var reader = new FileReader();

        reader.onload = function(event) {
          //Debugging in order to check if provided files from export parse:
          //var jsonObj = JSON.parse(event.target.result);
          //console.log(jsonObj);
          sessionStorage["artrack"] = event.target.result
          console.log(sessionStorage["artrack"])
        }

        reader.readAsText(event.target.files[0]);
      }
      
      document.getElementById('file-upload-button').addEventListener('change', importJSON);
    </script>
  </body>
</html>