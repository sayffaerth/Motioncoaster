<!DOCTYPE html>
  <head>
    <title>Motioncoaster - VR</title>
    <meta name="description" content="Basic example for Curve component."></meta>
    <script src="../build.js"></script>
    <script src="https://rawgit.com/protyze/aframe-curve-component/master/dist/aframe-curve-component.min.js"></script>
    <script src="https://rawgit.com/protyze/aframe-alongpath-component/master/dist/aframe-alongpath-component.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    <a-scene inspect="url: https://rawgit.com/aframevr/aframe-inspector/master/dist/aframe-inspector.min.js">
      <a-assets></a-assets>

      <!--Track of the coaster-->
      <a-curve id="track1" type="CatmullRom" closed="true">
        <a-curve-point position="-2 1 -3"></a-curve-point>
        <a-curve-point position="0 0 -3"></a-curve-point>
        <a-curve-point position="2 1 -5"></a-curve-point>
        <a-curve-point position="5 1 -3"></a-curve-point>
        <a-curve-point position="5 1 -5"></a-curve-point>
        <a-curve-point position="5 0 -9"></a-curve-point>
        <a-curve-point position="0 0 -13"></a-curve-point>
        <a-curve-point position="-1 -1 -9"></a-curve-point>
      </a-curve>

      <a-draw-curve curveref="#track1" material="shader: line; color: blue;"></a-draw-curve>

      <!--Track of the box driving on the coaster (y has to have +0.2)-->
      <a-curve id="track2" closed="true">
        <a-curve-point position="-2 1.2 -3"></a-curve-point>
        <a-curve-point position="0 0.2 -3"></a-curve-point>
        <a-curve-point position="2 1.2 -5"></a-curve-point>
        <a-curve-point position="5 1.2 -3"></a-curve-point>
        <a-curve-point position="5 1.2 -5"></a-curve-point>
        <a-curve-point position="5 0.2 -9"></a-curve-point>
        <a-curve-point position="0 0.2 -13"></a-curve-point>
        <a-curve-point position="-1 -0.8 -9"></a-curve-point>
      </a-curve>

      <!--<a-draw-curve curveref="#track2" material="shader: line; color: blue;"></a-draw-curve>-->
      
      <!--Box that drives along path with camera in it-->
      <a-box alongpath="curve: #track2; dur: 50000; rotate: true; loop: true" height="0.05" width="0.12" depth="0.12" color="red" metalness="0.5" id="speed">
        <a-box color="red" metalness="0.5" depth="0.01" height="0.02" width="0.12" position="0 0.025 0.06"></a-box>
        <a-box color="red" metalness="0.5" depth="0.01" height="0.02" width="0.12" position="0 0.025 -0.06"></a-box>
        <a-box color="red" metalness="0.5" depth="0.13" height="0.02" width="0.01" position="0.06 0.025 0"></a-box>
        <a-box color="red" metalness="0.5" depth="0.13" height="0.02" width="0.01" position="-0.06 0.025 0"></a-box>
        <a-entity camera="active: true" look-controls wasd-controls position="0 0.1 0" rotation="0 -180 0" data-aframe-default-camera></a-entity>
      </a-box>

      <!--Draw coaster-->
      <a-entity clone-along-curve="curve: #track1; spacing: 0.01; scale: 1 1 1; rotation: 90 0 0;" geometry="primitive:cylinder; height:0.1; radius: 0.1" material="color:#666"></a-entity>
      <a-entity clone-along-curve="curve: #track1; spacing: 2; scale: 1 1 1; rotation: 180 0 0;" geometry="primitive:ring; radius-inner:0.45; radius-outer: 0.55" material="color:#fff"></a-entity>
      <a-entity clone-along-curve="curve: #track1; spacing: 2; scale: 1 1 1; rotation: 0 0 0;" geometry="primitive:ring; radius-inner:0.45; radius-outer: 0.55" material="color:#fff"></a-entity>
      <!--<a-entity clone-along-curve="curve: #track2; spacing: 0.01; scale: 1 1 1; rotation: 90 0 0;" geometry="primitive:cylinder; height:0.1; height:0.1; radius: 0.1" material="color:#888"></a-entity>-->

      <a-entity id="blacksphere">
        <a-sphere color="black" radius="0.5" position="-2 1 -3"></a-sphere>
        <!--<a-sphere color="black" radius="0.5" position="-1 -1 -9"></a-sphere>-->
      </a-entity>

      <!--Background-->
      <a-entity environment="preset: forest; groundColor: #445"></a-entity>
      <a-sky color="#000"></a-sky>
    </a-scene>
    <script src="./points.js"></script>
    <script src="./volume.js"></script>
  </body>
</html>

<!--Source: https://github.com/protyze/aframe-curve-component -->
<!--Source: https://github.com/protyze/aframe-alongpath-component -->
<!--Source: https://github.com/feiss/aframe-environment-component/ -->